<div class="container">
  <h4>Formularios <small>data</small></h4>
  <hr>


  <form autocomplete="off" [formGroup]='forma' (ngSubmit)='guardar()'>
    <div>
      <div class="form-group row">
        <label class="col-2 col-form-label">Nombre</label>
        <div class="col">
          <input class="form-control" type="text" placeholder="Nombre" formControlName="nombre"
            [class.is-invalid]="getNombreValido">
        </div>
        <small *ngIf="getNombreValido" class="text-danger">
          Nombre inválido, de 5 caracteres
        </small>
      </div>
      <div class="form-group row">
        <label class="col-2 col-form-label">Apellido</label>
        <div class="col">
          <input class="form-control" type="text" placeholder="Apellido" formControlName="apellido">
        </div>
        <small *ngIf="getApellidoValido" class="text-danger">
          Apellido inválido, de 5 caracteres
        </small>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-2 col-form-label">Correo</label>
      <div class="col">
        <input class="form-control" type="email" placeholder="Correo electrónico" formControlName='correo'>
        <small *ngIf="getCorreoValido" class="text-danger">
          Correo inválido
        </small>
      </div>
      <div class="form-group row">
        <label class="col-2 col-form-label">Usuario</label>
        <div class="col">
          <input class="form-control" type="text" placeholder="Nombre de usuario" formControlName='usuario'>
          <small *ngIf="getUsuarioValido" class="text-danger">
            Nombre de usuario ya existe.
          </small>
        </div>
      </div>
    </div>

    <div class="form-group row" formGroupName='contraseña'>
      <label class="col-2 col-form-label">Contraseña</label>
      <div class="col">
        <input class="form-control" type="password" placeholder="Contraseña" formControlName='pass1'
          [class.is-invalid]="getPass1">
      </div>
      <div class="col">
        <input class="form-control" type="password" placeholder="Confirma" formControlName='pass2'
          [class.is-invalid]="getPass2">
      </div>
    </div>



    <div class="form-group row" formGroupName='direccion'>
      <label class="col-2 col-form-label">Distrito</label>
      <div class="col">
        <input class="form-control" type="text" placeholder="Distrito" formControlName='distrito'>
        <small *ngIf="getDistritoValido" class="text-danger">
          Distrito inválido
        </small>
      </div>
      <div class="col">
        <input class="form-control" type="text" placeholder="Ciudad" formControlName='ciudad'>
        <small *ngIf="getCiudadValido" class="text-danger">
          Ciudad inválida
        </small>
      </div>
    </div>



    <div class="row mt-3">
      <div class="col">
        <table class="table table-striped-columns">
          <thead class="thead">
            <tr>
              <th>ID</th>
              <th>Pasatiempo</th>
              <th>Borrar</th>
            </tr>
          </thead>
          <tbody formArrayName="pasatiempos">
            <tr *ngFor="let control of getPasatiempos.controls; let i = index">
              <th>{{ i + 1 }}</th>
              <th>
                <input class="form-control" type="text" [formControlName]="i">
              </th>
              <th>
                <button class="btn btn-danger" (click)='borrarPasatiempo(i)'>Borrar</button>
              </th>
            </tr>
          </tbody>
        </table>
        <div class="d-grid gap-2 mt-2 mb-3">
          <button class="btn btn-secondary" (click)="guardarPasatiempo()" type="button">+</button>
        </div>
      </div>
    </div>


    <div class="form-group row">
      <div class="d-grid gap-2">
        <button type="submit" class="btn btn-primary">
          Guardar
        </button>
      </div>
    </div>

    <!-- <div class="spinner-border text-success"  *ngIf="true" role="status">
      <span class="visually-hidden">Loading...</span>
    </div> -->


  </form>
</div>

<pre>
  Estado del form: {{ this.forma.valid  }}
  Status: {{ this.forma.status  }}
  <hr>
</pre>
<pre>
  {{ this.forma.value | json  }}
  <hr>
</pre>